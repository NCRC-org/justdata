# JustData Environment Configuration
# Copy this file to .env and fill in your values

# Application Settings
DEBUG=True
LOG_LEVEL=INFO
SECRET_KEY=your-secret-key-here-change-in-production

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000

# Database Configuration
DATABASE_URL=postgresql://justdata:justdata@localhost:5432/justdata
BIGQUERY_PROJECT_ID=your-bigquery-project-id
BIGQUERY_DATASET=your-bigquery-dataset

# Redis Configuration
REDIS_URL=redis://localhost:6379

# AI Services
ANTHROPIC_API_KEY=your-claude-api-key
OPENAI_API_KEY=your-openai-api-key

# HubSpot Integration
HUBSPOT_ACCESS_TOKEN=your-hubspot-access-token
HUBSPOT_PORTAL_ID=your-portal-id
HUBSPOT_API_KEY=your-hubspot-api-key
HUBSPOT_SYNC_ENABLED=True
HUBSPOT_WEBHOOK_SECRET=your-webhook-secret

# Data Source URLs
FDIC_DATA_URL=https://banks.data.fdic.gov/api
HMDA_DATA_URL=https://ffiec.cfpb.gov/api
SBA_DATA_URL=https://api.sba.gov

# Reporting
REPORT_OUTPUT_DIR=./data/reports
MAX_REPORT_SIZE_MB=50

# Cache and Rate Limiting
CACHE_TTL_SECONDS=3600
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Firebase Auth (required for Google sign-in; backend verifies ID tokens)
# Get JSON from Firebase Console → Project settings → Service accounts → Generate new private key
# Option A: path to JSON file
# FIREBASE_CREDENTIALS=/path/to/firebase-service-account.json
# Option B: JSON as one line. Wrap in single quotes so the inner double quotes don't need escaping:
# FIREBASE_CREDENTIALS_JSON='{"type":"service_account","project_id":"justdata-ncrc",...}'
# If unset, backend also checks GOOGLE_APPLICATION_CREDENTIALS_JSON

# BigQuery (for platform-stats, apps). Use JSON string so no file path is needed:
# GOOGLE_APPLICATION_CREDENTIALS_JSON='{"type":"service_account","project_id":"justdata-ncrc",...}'
# Same service account as Firebase is fine. If you use GOOGLE_APPLICATION_CREDENTIALS=./file.json
# and the file is missing, remove it and set GOOGLE_APPLICATION_CREDENTIALS_JSON instead.

# =============================================================================
# Per-App BigQuery Service Accounts (for cost attribution)
# =============================================================================
# Each app can have its own service account for BigQuery cost tracking.
# If set, the app-specific credential is used; otherwise falls back to
# GOOGLE_APPLICATION_CREDENTIALS_JSON above.
#
# Service accounts should be created in justdata-ncrc project:
#   lendsight@justdata-ncrc.iam.gserviceaccount.com
#   bizsight@justdata-ncrc.iam.gserviceaccount.com
#   branchsight@justdata-ncrc.iam.gserviceaccount.com
#   branchmapper@justdata-ncrc.iam.gserviceaccount.com
#   mergermeter@justdata-ncrc.iam.gserviceaccount.com
#   dataexplorer@justdata-ncrc.iam.gserviceaccount.com
#   lenderprofile@justdata-ncrc.iam.gserviceaccount.com
#   analytics@justdata-ncrc.iam.gserviceaccount.com
#   electwatch@justdata-ncrc.iam.gserviceaccount.com
#
# Generate JSON keys via:
#   gcloud iam service-accounts keys create lendsight-key.json \
#     --iam-account=lendsight@justdata-ncrc.iam.gserviceaccount.com
#
# Then set the env var with the JSON content (one line, single-quoted):
# LENDSIGHT_CREDENTIALS_JSON='{"type":"service_account","client_email":"lendsight@justdata-ncrc.iam.gserviceaccount.com",...}'
# BIZSIGHT_CREDENTIALS_JSON='{"type":"service_account","client_email":"bizsight@justdata-ncrc.iam.gserviceaccount.com",...}'
# BRANCHSIGHT_CREDENTIALS_JSON='{"type":"service_account","client_email":"branchsight@justdata-ncrc.iam.gserviceaccount.com",...}'
# BRANCHMAPPER_CREDENTIALS_JSON='{"type":"service_account","client_email":"branchmapper@justdata-ncrc.iam.gserviceaccount.com",...}'
# MERGERMETER_CREDENTIALS_JSON='{"type":"service_account","client_email":"mergermeter@justdata-ncrc.iam.gserviceaccount.com",...}'
# DATAEXPLORER_CREDENTIALS_JSON='{"type":"service_account","client_email":"dataexplorer@justdata-ncrc.iam.gserviceaccount.com",...}'
# LENDERPROFILE_CREDENTIALS_JSON='{"type":"service_account","client_email":"lenderprofile@justdata-ncrc.iam.gserviceaccount.com",...}'
# ANALYTICS_CREDENTIALS_JSON='{"type":"service_account","client_email":"analytics@justdata-ncrc.iam.gserviceaccount.com",...}'
# ELECTWATCH_CREDENTIALS_JSON='{"type":"service_account","client_email":"electwatch@justdata-ncrc.iam.gserviceaccount.com",...}'

# Security
ACCESS_TOKEN_EXIRE_MINUTES=30
